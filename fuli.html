<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>滚动选择器</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #111;
    color: #fff;
    font-family: sans-serif;
  }
  .picker-container {
    position: relative;
    height: 400px;   /* 高度加倍 */
    width: 140px;    /* 宽度加倍 */
    overflow-y: scroll;
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
    border-left: 2px solid #555;
    border-right: 2px solid #555;
  }
  .picker-item {
    height: 70px;    /* 每个项加大 */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px; /* 字号更大 */
    scroll-snap-align: center;
    transition: all 0.2s;
    color: #aaa;
  }
  .picker-item.active {
    font-size: 38px;
    font-weight: bold;
    color: #4cafef;
  }
  .center-line {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 0;
    border-top: 2px dashed #4cafef;
    pointer-events: none;
  }
</style>
</head>
<body>
  <div class="picker-container" id="picker">
    <div class="picker-item">0.5</div>
    <div class="picker-item">1</div>
    <div class="picker-item">2</div>
    <div class="picker-item">5</div>
    <div class="picker-item">10</div>
    <div class="picker-item">20</div>
    <div class="picker-item">30</div>
    <div class="picker-item">50</div>
  </div>
  <div class="center-line"></div>

<script>
  const picker = document.getElementById('picker');
  const items = document.querySelectorAll('.picker-item');

  function highlightClosest() {
    let containerRect = picker.getBoundingClientRect();
    let centerY = containerRect.top + containerRect.height / 2;

    let closestItem = null;
    let closestDistance = Infinity;

    items.forEach(item => {
      let rect = item.getBoundingClientRect();
      let itemCenter = rect.top + rect.height / 2;
      let distance = Math.abs(centerY - itemCenter);

      if (distance < closestDistance) {
        closestDistance = distance;
        closestItem = item;
      }
    });

    items.forEach(item => item.classList.remove('active'));
    if (closestItem) closestItem.classList.add('active');
  }

  picker.addEventListener('scroll', () => {
    requestAnimationFrame(highlightClosest);
  });

  highlightClosest(); // 初始高亮
</script>
</body>
</html>
