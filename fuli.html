<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>iOS Style 3D Wheel Picker</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.js"></script>
  <style>
    body {
      background: grey;
    }

    #ticker {
      width: 150px;
      text-align: center;
      margin: auto;
    }

    #rotator {
      height: 140px;
      font-family: "Times New Roman";
      font-size: 50px;
      line-height: 70px;
      background-image:
      ur[](http://ataredo.com/external/image/flip.png),
      ur[](http://ataredo.com/external/image/flip.png),
      ur[](http://ataredo.com/external/image/flip.png);
      background-position: 0 0, 50% 50%, 100% 150%;
      background-size: 300% 50%;
      background-repeat: no-repeat;
      margin: 0 0 10px;
      overflow: hidden;
      opacity: 0;
    }

    #rotator span {
      width: 100%;
      height: 50%;
      display: inline-block;
      cursor: default;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      -webkit-tap-highlight-color: transparent;
    }

    #result {
      height: 30px;
      font-size: 20px;
      color: white;
      line-height: 30px;
      letter-spacing: 3px;
      -webkit-box-shadow: 0 0 3px black;
      box-shadow: 0 0 3px black;
    }
  </style>
</head>
<body>
  <div id="ticker">
    <div id="rotator">
      <span>8</span>
      <span>9</span>
      <span>0</span>
      <span>1</span>
      <span>2</span>
      <span>3</span>
      <span>4</span>
      <span>5</span>
      <span>6</span>
      <span>7</span>
    </div>
    <div id="result"></div>
  </div>

  <script>
    $(function() {

      var gate = $(window),
      cog = $('#rotator'),
      digit = cog.find('span'),
      field = $('#result'),
      slot = digit.height(),
      base = 1.5*slot,
      up, swipe;

      if (document.readyState == 'complete') interAction();
      else gate.one('load', interAction);

      function interAction() {

        field.text(0);

        cog.scrollTop(base).fadeTo(0,1).mousewheel(function(turn, delta) {

          if (isBusy()) return false;

          up = delta > 0;
          nextNumber();

          return false;
        });

        digit.on('touchstart', function(e) {

          var begin = e.originalEvent.touches[0].pageY;

          digit.on('touchmove', function(e) {

            var yaw = e.originalEvent.touches[0].pageY-begin;
            up = yaw < 0;
            swipe = Math.abs(yaw) > 30;
          });

          gate.one('touchend', function() {

            digit.off('touchmove');

            if (swipe && !isBusy()) nextNumber();
          });
        })
        .on('mousedown touchstart', function(e) {

          if (e.which && e.which != 1) return;

          var zest = this, item = $(this).index();

          $(this).one('mouseup touchend', function(e) {

            digit.off('mouseup');

            var quit = e.originalEvent.changedTouches;

            if (quit) var jab = document.elementFromPoint(quit[0].clientX, quit[0].clientY);
            if (swipe || item == 2 || quit && jab != zest || isBusy()) return;

            up = item == 1;
            nextNumber();
          });

          return false;
        })
        .mouseleave(function() {

          digit.off('mouseup');
        });
      }

      function isBusy() {

        return cog.is(':animated');
      }

      function nextNumber() {

        var aim = base;
        swipe = false;

        up ? aim += slot : aim -= slot;

        cog.animate({scrollTop: aim}, 250, function() {

          up ? digit.eq(0).appendTo(cog) : digit.eq(9).prependTo(cog);

          digit = cog.find('span');

          cog.scrollTop(base);
          field.text(digit.eq(2).text());
        });
      }
    });
  </script>
</body>
</html>
